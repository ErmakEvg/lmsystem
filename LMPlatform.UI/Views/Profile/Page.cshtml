@using System.Collections.ObjectModel
@using Application.Core.UI.HtmlHelpers
@using LMPlatform.Models
@model LMPlatform.UI.ViewModels.LmsViewModels.LmsViewModel

@{
    ViewBag.Title = "Профиль";
}

@section css
{
    @Styles.Render("~/Content/bootstrapcontrols")
    <link rel="stylesheet" href="~/Content/circle.css" />
}
@section scripts
{
    @Scripts.Render("~/bundles/bootstrapcontrols")
}

@section headerTitle{
    <h1>Система управления учебным процессом
        <small>Профиль пользователя</small>
    </h1>
}

@section navleft
{

    <li class="treeview">
        <a href="#">
            <i class="fa fa-folder-open-o fa-tab"></i>
            <span>Предметы</span>
            <i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="treeview-menu">
            @foreach (var subject in Model.Subjects)
            {
                <li><a title="@subject.DisplayName" href="@Url.Action("Index", "Subject", new { subjectId = subject.SubjectId })" style="margin-left: 5px;" class="linkNavbarLevelBelow"><i class="fa fa-angle-double-right"></i>@subject.DisplayName</a></li>
            }
            <li class="divider"></li>
            @if (User.IsInRole("lector"))
            {
                <hr style="margin: 0">
                <li><a href="@Url.Action("Management", "Subject")" style="margin-left: 5px;padding: 15px;" class="linkNavbarLevelBelow">Управление предметами</a></li>
            }
        </ul>
    </li>

    <li class="treeview">
        <a href="#">
            <i class="fa fa-folder-open-o fa-tab"></i>
            <span>Тестирование знаний</span>
            <i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="treeview-menu">
            @foreach (var subject in Model.Subjects)
            {
                var url = User.IsInRole("lector")
                    ? Url.Action("KnowledgeTesting", "Tests", new { subjectId = subject.SubjectId })
                    : Url.Action("StudentsTesting", "TestPassing", new { subjectId = subject.SubjectId });

                <li><a href="@url" style="margin-left: 5px;" class="linkNavbarLevelBelow"><i class="fa fa-angle-double-right"></i>@subject.DisplayName</a></li>
            }
        </ul>
    </li>
    @if (User.IsInRole("lector"))
    {

        <li class="treeview">
            <a href="#">
                <i class="fa fa-folder-open-o fa-tab"></i>
                <span>ЭУМК</span>
                <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
                @foreach (var mat in Model.ComplexSubjects)
                {
                    var url = Url.Action("Index", "ComplexMaterial", new { subjectId = mat.SubjectId });

                    <li><a href="@url" style="margin-left: 5px;" class="linkNavbarLevelBelow"><i class="fa fa-angle-double-right"></i>@mat.DisplayName</a></li>
                }
            </ul>
        </li>
    }
    <li class="treeview">
        <a href="#">
            <i class="fa fa-folder-open-o fa-tab"></i>
            <span>Методические
                <br />
                материалы</span>
            <i class="fa fa-angle-left pull-right"></i>
        </a>
        <ul class="treeview-menu">
            @foreach (var subject in Model.Subjects)
            {
                var url = Url.Action("Index", "Materials", new { subjectId = subject.SubjectId });

                <li><a href="@url" style="margin-left: 5px;" class="linkNavbarLevelBelow"><i class="fa fa-angle-double-right"></i>@subject.DisplayName</a></li>
            }
        </ul>
    </li>

    <li><a href="@Url.Action("Index", "BTS")"><i class="fa fa-desktop fa-tab"></i>Управление проектами</a></li>
    @if (ViewBag.ShowDpSectionForUser)
    {
        <li><a href="@Url.Action("Index", "DP")"><i class="fa fa-briefcase fa-tab"></i>Дипломное проектирование</a></li>
    }
    <li><a href="@Url.Action("Index", "ScormMod")"><i class="fa fa-archive fa-tab"></i>SCORM</a></li>
}

<div>
    <div class="row">
        <div class="col-md-2">
            <img src="data:image/jpg;base64,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" width="350px" />
        </div>
        <div class="col-md-10">
            <div class="hpanel">
                <div class="panel-heading">
                    Информация
                </div>
                <div class="panel-body" style="display: block; height: 150px">
                    
                </div>
            </div>
   
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="hpanel">
                <div class="panel-heading">
                    Статистика
                </div>
                <div class="panel-body" style="display: block;">
                    <div class="col-md-2">
                        <div class="c100 p70 green">
                            <span>70%</span>
                            <div class="slice">
                                <div class="bar"></div>
                                <div class="fill"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="c100 p50 green">
                            <span>50%</span>
                            <div class="slice">
                                <div class="bar"></div>
                                <div class="fill"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="c100 p14 green">
                            <span>14%</span>
                            <div class="slice">
                                <div class="bar"></div>
                                <div class="fill"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="c100 p49 green">
                            <span>49%</span>
                            <div class="slice">
                                <div class="bar"></div>
                                <div class="fill"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="hpanel">
                <div class="panel-heading">
                    Предметы
                </div>
                <div class="panel-body" style="display: block; height: 300px">
                    <div class="table-responsive project-list">
                        <table class="table table-striped">
                            <thead>
                                <tr>

                                    <th>Предмет</th>
                                    <th>Завершенность</th>
                                    <th>%</th>
                                    <th>Активность</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Надежность ПО</td>
                                    <td>
                                        <span class="pie" style="display: none;">1/5</span><svg class="peity" height="16" width="16"><path d="M 8 0 A 8 8 0 0 1 15.60845213036123 5.52786404500042 L 8 8" fill="#62cb31"></path><path d="M 15.60845213036123 5.52786404500042 A 8 8 0 1 1 7.999999999999998 0 L 8 8" fill="#edf0f5"></path></svg>
                                    </td>
                                    <td><strong>20%</strong></td>
                                    <td><a href=""><i class="fa fa-check text-success"></i></a></td>
                                </tr>
                                <tr>
                                    <td>Базы данных</td>
                                    <td>
                                        <span class="pie" style="display: none;">1/4</span><svg class="peity" height="16" width="16"><path d="M 8 0 A 8 8 0 0 1 16 8 L 8 8" fill="#62cb31"></path><path d="M 16 8 A 8 8 0 1 1 7.999999999999998 0 L 8 8" fill="#edf0f5"></path></svg>
                                    </td>
                                    <td><strong>40%</strong></td>
                                    <td><a href=""><i class="fa fa-check text-navy"></i></a></td>
                                </tr>
                                <tr>
                                    <td>Основы ООП</td>
                                    <td>
                                        <span class="pie" style="display: none;">0.52/1.561</span><svg class="peity" height="16" width="16"><path d="M 8 0 A 8 8 0 0 1 14.933563796318165 11.990700825968545 L 8 8" fill="#62cb31"></path><path d="M 14.933563796318165 11.990700825968545 A 8 8 0 1 1 7.999999999999998 0 L 8 8" fill="#edf0f5"></path></svg>
                                    </td>
                                    <td><strong>75%</strong></td>
                                    <td><a href=""><i class="fa fa-check text-navy"></i></a></td>
                                </tr>
                                <tr>
                                    <td>Языки программирования</td>
                                    <td>
                                        <span class="pie" style="display: none;">226/360</span><svg class="peity" height="16" width="16"><path d="M 8 0 A 8 8 0 1 1 2.2452815972907922 13.55726696367198 L 8 8" fill="#62cb31"></path><path d="M 2.2452815972907922 13.55726696367198 A 8 8 0 0 1 7.999999999999998 0 L 8 8" fill="#edf0f5"></path></svg>
                                    </td>
                                    <td><strong>16%</strong></td>
                                    <td><a href=""><i class="fa fa-check text-navy"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="panel-footer" style="display: block;">
                    Текущие предметы пользователя
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="hpanel">
                <div class="panel-heading">
                    Проекты
                </div>
                <div class="panel-body" style="display: block; height: 300px">
                    <div class="table-responsive project-list">
                        <table class="table table-striped">
                            <thead>
                                <tr>

                                    <th>Предмет</th>
                                    <th>Активность</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Разработка информационного портала</td>
                                    <td><a href=""><i class="fa fa-check text-success"></i></a></td>
                                </tr>
                                <tr>
                                    <td>Система управления проектами</td>
                                    <td><a href=""><i class="fa fa-check text-navy"></i></a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="panel-footer" style="display: block;">
                    Текущие проекты пользователя
                </div>
            </div>

        </div>
    </div>
</div>


<style>
    /* Panels */
    .hpanel > .panel-heading {
        color: inherit;
        font-weight: 600;
        padding: 10px 4px;
        transition: all .3s;
        border: 1px solid transparent;
    }

    .hpanel .hbuilt.panel-heading {
        border-bottom: none;
    }

    .hpanel > .panel-footer,
    .hpanel > .panel-section {
        color: inherit;
        border: 1px solid #e4e5e7;
        border-top: none;
        font-size: 90%;
        background: #f7f9fa;
        padding: 10px 15px;
    }

    .hpanel.panel-collapse > .panel-heading,
    .hpanel .hbuilt {
        background: #fff;
        border-color: #e4e5e7;
        border: 1px solid #e4e5e7;
        padding: 10px 10px;
        border-radius: 2px;
    }

    .hpanel .panel-body {
        background: #fff;
        border: 1px solid #e4e5e7;
        border-radius: 2px;
        padding: 20px;
        position: relative;
    }

    .hpanel.panel-group .panel-body:first-child {
        border-top: 1px solid #e4e5e7;
    }

    .hpanel.panel-group .panel-body {
        border-top: none;
    }

    .panel-collapse .panel-body {
        border: none;
    }

    .hpanel {
        background-color: none;
        border: none;
        box-shadow: none;
        margin-bottom: 25px;
    }

    .panel-tools {
        display: inline-block;
        float: right;
        margin-top: 0;
        padding: 0;
        position: relative;
    }

    .hpanel .alert {
        margin-bottom: 0;
        border-radius: 0;
        border: 1px solid #e4e5e7;
        border-bottom: none;
    }

    .panel-tools a {
        margin-left: 5px;
        color: #9d9fa2;
        cursor: pointer;
    }

    .hpanel.hgreen .panel-body {
        border-top: 2px solid #62cb31;
    }

    .hpanel.hblue .panel-body {
        border-top: 2px solid #3498db;
    }

    .hpanel.hyellow .panel-body {
        border-top: 2px solid #ffb606;
    }

    .hpanel.hviolet .panel-body {
        border-top: 2px solid #9b59b6;
    }

    .hpanel.horange .panel-body {
        border-top: 2px solid #e67e22;
    }

    .hpanel.hred .panel-body {
        border-top: 2px solid #e74c3c;
    }

    .hpanel.hreddeep .panel-body {
        border-top: 2px solid #c0392b;
    }

    .hpanel.hnavyblue .panel-body {
        border-top: 2px solid #34495e;
    }

    .hpanel.hbggreen .panel-body {
        background: #62cb31;
        color: #fff;
        border: none;
    }

    .hpanel.hbgblue .panel-body {
        background: #3498db;
        color: #fff;
        border: none;
    }

    .hpanel.hbgyellow .panel-body {
        background: #ffb606;
        color: #fff;
        border: none;
    }

    .hpanel.hbgviolet .panel-body {
        background: #9b59b6;
        color: #fff;
        border: none;
    }

    .hpanel.hbgorange .panel-body {
        background: #e67e22;
        color: #fff;
        border: none;
    }

    .hpanel.hbgred .panel-body {
        background: #e74c3c;
        color: #fff;
        border: none;
    }

    .hpanel.hbgreddeep .panel-body {
        background: #c0392b;
        color: #fff;
        border: none;
    }

    .hpanel.hbgnavyblue .panel-body {
        background: #34495e;
        color: #fff;
        border: none;
    }
</style>





